{"version":3,"sources":["store/rootReducer.js","store/index.js","store/selectors.js","helpers.js","components/error.js","components/loader.js","components/objectComponent.js","components/filmsPage.js","App.js","index.js"],"names":["setFilmsError","value","type","payload","initialState","filmsData","isLoading","error","objectData","objectName","objectAddData","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middleWares","thunk","store","createStore","state","action","applyMiddleware","rootSelector","selectFilmsData","createSelector","sort","a","b","episode_id","selectError","seleсtIsLoading","seleсtObjectData","seleсtObjectName","seleсtAdditionalData","getIdFromUrl","url","arr","split","length","objectKeysMap","Error","message","className","to","defaultProps","Loader","getObjectName","key","includes","ObjectComponent","loadObject","loadAddData","addData","clearStateData","params","useParams","history","useHistory","useEffect","objname","id","onClick","push","pathname","map","linkObj","getRenderName","connect","dispatch","objName","objId","objectId","fetch","then","res","json","results","saveObject","catch","finally","objData","keys","i","promises","y","Promise","all","data","uploadAddData","FilmsPage","loadFilms","match","location","useLocation","searchParams","URLSearchParams","search","input","get","sortOrder","filteredFilms","filter","film","title","toLowerCase","trim","sortbyName","localeCompare","filmsToShow","reverse","filmId","placeholder","onChange","event","target","set","toString","delete","App","exact","from","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c32477b3.chunk.js","sourcesContent":["const SAVE_FILMS = 'SAVE_FILMS';\nconst START_LOADING = 'START_LOADING';\nconst STOP_LOADING = 'STOP_LOADING';\nconst SET_LOAD_FILMS_ERROR = 'SET_LOAD_FILMS_ERROR';\nconst SAVE_OBJECT = 'SAVE_OBJECT';\nconst SAVE_OBJECT_NAME = 'SAVE_OBJECT_NAME';\nconst SAVE_OBJECT_ADDITIONAL_DATA = 'SAVE_OBJECT_ADDITIONAL_DATA';\nconst CLEAR_STATE = 'CLEAR_STATE';\n\n\nconst saveFilms = value => ({\n  type: SAVE_FILMS,\n  payload: value,\n})\n\nconst startLoading = () => ({\n  type: START_LOADING,\n})\n\nconst stoptLoading = () => ({\n  type: STOP_LOADING,\n})\n\nconst setFilmsError = value => ({\n  type: SET_LOAD_FILMS_ERROR,\n  payload: value,\n})\n\nconst saveObject = value => ({\n  type: SAVE_OBJECT,\n  payload: value,\n})\n\nconst saveObjectName = value => ({\n  type: SAVE_OBJECT_NAME,\n  payload: value,\n})\n\nconst saveObjectAdditionalData = (value) => ({\n  type: SAVE_OBJECT_ADDITIONAL_DATA,\n  payload: value,\n})\n\nexport const clearState = () => ({\n  type: CLEAR_STATE\n})\n\n\nexport const uploadFilms = () => dispatch => {\n  dispatch(startLoading());\n\n  fetch('https://swapi.co/api/films/')\n    .then(res => res.json())\n    .then(({ results }) => {\n      dispatch(saveFilms(results))\n    })\n    .catch(error => dispatch(setFilmsError(error.message)))\n    .finally(() => dispatch(stoptLoading()))\n}\n\nexport const uploadObject = (objectName, objectId) => dispatch => {\n\n  dispatch(startLoading());\n\n  fetch(`https://swapi.co/api/${objectName}/${objectId}`)\n    .then(res => res.json())\n    .then(( results ) => {\n      dispatch(saveObjectName(objectName))\n      dispatch(saveObject(results))\n    })\n    .catch(error => dispatch(setFilmsError(error.message)))\n    .finally(() => dispatch(stoptLoading()))\n}\n\n\nexport const uploadAddData = (objectData, objectName, keys) => dispatch => {\n  dispatch(startLoading());\n  for(let i in keys){\n    if(typeof(objectData[keys[i]]) === 'string'){\n      objectData[keys[i]] = [objectData[keys[i]]]\n    }\n    let promises = objectData[keys[i]].map(url => fetch(url).then(y => y.json()));\n    Promise.all(promises).then(results => {\n      let data = {}\n      data[keys[i]] = results\n      dispatch(saveObjectAdditionalData(data));\n    });\n  }\n  dispatch(stoptLoading())\n}\n\nconst initialState = {\n  filmsData: null,\n  isLoading: false,\n  error: null,\n  objectData: null,\n  objectName: 'films',\n  objectAddData: null,\n}\n\nexport const rootReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SAVE_FILMS:\n      return {\n        ...state,\n        error: null,\n        filmsData: action.payload,\n      }\n    case START_LOADING:\n      return {\n        ...state,\n        isLoading: true,\n      }\n    case STOP_LOADING:\n      return {\n        ...state,\n        isLoading: false,\n      }\n    case SET_LOAD_FILMS_ERROR:\n      return {\n        ...state,\n        error: action.payload,\n        filmsData: null\n      }\n    case SAVE_OBJECT:\n      return {\n        ...state,\n        objectData: action.payload,\n      }\n      case SAVE_OBJECT_NAME:\n        return {\n          ...state,\n          objectName: action.payload,\n        }\n    case SAVE_OBJECT_ADDITIONAL_DATA:\n      return {\n        ...state,\n        objectAddData: {\n          ...state.objectAddData,\n          ...action.payload,\n        }\n      }\n    case CLEAR_STATE:\n      return {\n        ...state,\n        objectData: null,\n        objectAddData: null\n      }\n    default:\n      return state;\n  }\n}","import { createStore, compose, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { rootReducer } from './rootReducer';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst middleWares = [thunk];\n\nexport const store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(...middleWares))\n);\n","import { createSelector } from 'reselect';\n\nconst rootSelector = state => state;\n\nexport const selectFilmsData = createSelector(\n  rootSelector,\n  ({ filmsData }) => {\n    return !filmsData\n      ? []\n      : filmsData.sort((a, b) => a.episode_id - b.episode_id)\n  }\n)\n\nexport const selectError = createSelector(\n  rootSelector,\n  ({ error }) => error\n)\n\nexport const seleсtIsLoading = createSelector(\n  rootSelector,\n  ({ isLoading }) => isLoading\n);\n\nexport const seleсtObjectData = createSelector(\n  rootSelector,\n  ({ objectData }) => {\n    return objectData\n  }\n);\n\nexport const seleсtObjectName = createSelector(\n  rootSelector,\n  ({ objectName }) => objectName\n);\n\nexport const seleсtAdditionalData = createSelector(\n  rootSelector,\n  ({ objectAddData }) => objectAddData\n);","export const getIdFromUrl = (url) => {\n  let arr = url.split('/')\n  return +arr[arr.length - 2]\n}\n\nexport const objectKeysMap = {\n  \"people\": {\n    \"show\": [\"name\", \"height\", \"mass\", \"hair_color\", \"skin_color\", \"eye_color\", \"birth_year\", \"gender\"],\n    \"load\": [\"homeworld\", \"films\", \"species\", \"vehicles\", \"starships\"]\n  },\n  \"planets\": {\n    \"show\": [\"name\", \"rotation_period\", \"orbital_period\", \"diameter\", \"climate\", \"gravity\", \"terrain\", \"surface_water\", \"population\"],\n    \"load\": [\"residents\", \"films\"]\n  },\n  \"films\": {\n    \"show\": [\"title\", \"episode_id\", \"opening_crawl\", \"director\", \"producer\", \"release_date\"],\n    \"load\": [\"characters\", \"planets\", \"starships\", \"vehicles\", \"species\"]\n  },\n  \"species\": {\n    \"show\": [\n      \"name\", \"classification\", \"designation\", \"average_height\", \"skin_colors\",\n      \"hair_colors\", \"eye_colors\", \"average_lifespan\", \"language\"\n    ],\n    \"load\": [\"homeworld\", \"people\", \"films\"]\n  },\n  \"vehicles\": {\n    \"show\": [\n      \"name\", \"model\", \"manufacturer\", \"cost_in_credits\", \"length\", \"max_atmosphering_speed\",\n      \"crew\", \"passengers\", \"cargo_capacity\", \"consumables\", \"vehicle_class\"],\n    \"load\": [\"pilots\", \"films\"]\n  },\n  \"starships\": {\n    \"show\": [\n      \"name\", \"model\", \"manufacturer\", \"cost_in_credits\", \"length\", \"max_atmosphering_speed\",\n      \"crew\", \"passengers\", \"cargo_capacity\", \"consumables\", \"hyperdrive_rating\", \"MGLT\", \"starship_class\"\n    ],\n    \"load\": [\"pilots\", \"films\"]\n  }\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport '../styles/error.scss';\n\nexport const Error = ({ message }) => (\n  <div className=\"error\">\n    <p className=\"error__text\">\n      {message}\n    </p>\n    <Link to=\"/\" className=\"error__link\">\n        Go to Home\n    </Link>\n  </div>\n);\n\nError.propTypes = {\n  message: PropTypes.string,\n};\n\nError.defaultProps = {\n  message: 'Error occured',\n};","import React from 'react';\nimport '../styles/loader.scss';\n\nexport const Loader = () => (\n  <div className=\"loader-container\">\n    <div className=\"lds-default\">\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n    </div>\n  </div>\n);\n\nexport default Loader;","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Link, useParams, useHistory } from 'react-router-dom';\nimport { uploadObject, uploadAddData, clearState } from '../store/rootReducer'\nimport { \n  seleсtObjectData, seleсtObjectName, selectError, seleсtIsLoading,\n  seleсtAdditionalData\n} from '../store/selectors'\nimport { getIdFromUrl, objectKeysMap } from \"../helpers\"\nimport { Error } from './error'\nimport Loader from './loader'\nimport '../styles/object.scss'\n\nconst getObjectName = (key) => {\n  if (['residents', 'pilots', 'characters'].includes(key)) {\n    return 'people'\n  }\n  if(key === 'homeworld') {\n    return 'planets'\n  }\n  return key\n}\n\nconst getRenderName = (objectName) => objectName === 'films' ? 'title' : 'name'\n\n\nconst ObjectComponent = ({\n  objectName, objectData, error, isLoading, loadObject, loadAddData, addData, clearStateData\n}) => {\n\n  let params = useParams()\n  let history = useHistory()\n\n  useEffect(() => {\n    clearStateData()\n    loadObject(params.objname, +params.id);\n  }, [params.objname, +params.id])\n\n  useEffect(() => {\n    objectData && loadAddData(objectData, objectName, objectKeysMap[objectName][\"load\"])\n  }, [objectData])\n\n  const handleClose = () => {\n    history.push({ pathname: '/films' });\n  }\n\n  return (\n    <div className='object'>\n      {isLoading && <Loader />}\n      {error && <Error />}\n      {!isLoading && !error && <>\n      <div\n        className='object__close'\n        onClick={() => handleClose()}\n      >close</div>\n      {objectData && objectKeysMap[objectName][\"show\"]\n        .map(key =>\n          <div className='object__row'>\n            <p className='object__row_title'>{key}:</p>\n            <p className='object__row_text'>{objectData[key]}</p>\n          </div>\n        )}\n      <div>\n        {!addData && <p className='loading object__row'>Loading...</p>}\n        {addData && objectKeysMap[objectName][\"load\"]\n          .map(key =>\n            <div className='object__row'>\n              <p className='object__row_title'>{key}:</p>\n              <p className='object__row_text'>{addData[key] && addData[key].length && addData[key]\n                .map(linkObj =>\n                  <Link\n                    className='object__row_link'\n                    to={`/${getObjectName(key)}/${getIdFromUrl(linkObj.url)}`}>\n                    {linkObj[getRenderName(key)]}\n                  </Link>\n                )}\n              </p>\n            </div>\n          )}\n      </div>\n      </>}\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  objectName: seleсtObjectName(state),\n  objectData: seleсtObjectData(state),\n  error: selectError(state),\n  isLoading: seleсtIsLoading(state),\n  addData: seleсtAdditionalData(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  loadObject: (objName, objId) => dispatch(uploadObject(objName, objId)),\n  loadAddData: (objData, objName, keys) => dispatch(uploadAddData(objData, objName, keys)),\n  clearStateData: () => dispatch(clearState()) \n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ObjectComponent);\n\nObjectComponent.propTypes = {\n  addData: PropTypes.object.isRequired,\n  objectData: PropTypes.object.isRequired,\n  objectName: PropTypes.string.isRequired,\n  loadObject: PropTypes.func.isRequired,\n  loadAddData: PropTypes.func.isRequired,\n  error: PropTypes.string,\n  isLoading: PropTypes.bool,\n};\n\nObjectComponent.defaultProps = {\n  error: null,\n  isLoading: false,\n};\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport '../styles/filmsPage.scss';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport {\n  selectFilmsData,\n  selectError,\n  seleсtIsLoading\n} from '../store/selectors'\nimport { uploadFilms } from '../store/rootReducer'\nimport ObjectComponent from './objectComponent'\nimport Loader from './loader'\nimport { Error } from './error'\nimport { getIdFromUrl } from '../helpers'\n\nconst FilmsPage = ({\n  filmsData,\n  error,\n  isLoading,\n  loadFilms,\n  match\n}) => {\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const input = searchParams.get('query');\n  const sortOrder = searchParams.get('sortOrder');\n  \n  useEffect(() => {\n    filmsData.length || loadFilms();\n  }, [loadFilms])\n\n  const handleInputChange = (value) => {\n    searchParams.set('query', value);\n    if (value) {\n      history.push({ search: searchParams.toString() });\n    } else {\n      searchParams.delete('query');\n      history.push({ search: searchParams.toString() });\n    }\n  };\n\n  const filteredFilms = input\n    ? filmsData.filter(film =>\n      film.title.toLowerCase()\n        .includes(input.trim().toLowerCase())\n      || film.episode_id === +input.trim())\n    : filmsData;\n\n  const handleSort = () => {\n    if (!sortOrder || sortOrder === 'desc') {\n      searchParams.set('sortOrder', 'asc');\n    } else {\n      searchParams.set('sortOrder', 'desc');\n    }\n    history.push({ search: searchParams.toString() });\n  }\n\n  const sortbyName = (arr) => arr\n    .sort((a, b) => a.title.localeCompare(b.title))\n\n  let filmsToShow = [...filteredFilms]\n  if (sortOrder === 'asc') {\n    filmsToShow = sortbyName(filmsToShow)\n  } if (sortOrder === 'desc') {\n    filmsToShow = sortbyName(filmsToShow).reverse()\n  }\n\n  const handleCardClick = (id) => {\n    history.push({\n      pathname: `${match.url}/${id}`,\n      search: location.search,\n    });\n  }\n\n  var filmId = match.params.id\n\n  return (\n    <div className='main'>\n      <h1 className='main__header'>Star Wars</h1>\n      {isLoading && <Loader />}\n      {error && <Error message={error} />}\n      {filmId && !error && !isLoading &&\n        <ObjectComponent />}\n      {!error && !isLoading && !filmId &&\n        <div>\n          <div className='bar'>\n            <input\n              type=\"search\"\n              placeholder='Search...'\n              value={input}\n              onChange={event => handleInputChange(event.target.value)}\n              className ='bar__input'\n            >\n            </input>\n            <div \n              className='bar__sort'\n              onClick={() => handleSort()}\n            >\n              Sort by name\n            </div>\n          </div>\n\n          <div className='films'>\n            {filmsToShow.map(film =>\n              <div\n                key={film.episode_id}\n                className='films__card'\n                onClick={() => handleCardClick(getIdFromUrl(film.url))}\n              >\n                <p className='films__card_title'>{film.title}</p>\n                <p>Episode {film.episode_id}</p>\n              </div>\n            )}\n          </div>\n        </div>}\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  filmsData: selectFilmsData(state),\n  error: selectError(state),\n  isLoading: seleсtIsLoading(state),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  loadFilms: value => dispatch(uploadFilms(value)),\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(FilmsPage);\n\nFilmsPage.propTypes = {\n  filmsData: PropTypes.arrayOf(PropTypes.shape({})),\n  match: PropTypes.string.isRequired,\n  loadFilms: PropTypes.func.isRequired,\n  error: PropTypes.string,\n  isLoading: PropTypes.bool,\n};\n\nFilmsPage.defaultProps = {\n  filmsData: [],\n  error: null,\n  isLoading: false,\n};\n","import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport FilmsPage from './components/filmsPage';\nimport ObjectComponent from './components/objectComponent'\nimport './App.scss';\n\nfunction App() {\n  return (\n    <Switch>\n      <Redirect exact from=\"/\" to='/films'>Start</Redirect>\n      <Route path='/films' exact component={FilmsPage} />\n      <Route path='/:objname/:id?' component={ObjectComponent} />\n    </Switch>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './store/index';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n<Provider store={store}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>,\ndocument.getElementById('root'));\n"],"sourceRoot":""}